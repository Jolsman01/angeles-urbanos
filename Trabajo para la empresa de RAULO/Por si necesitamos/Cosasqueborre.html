<!DOCTYPE html>

<!--Borre de seccion diseñar-->
<div class="menu-modelo">
    <label for="opciones"></label>
    <select id="opciones" name="opciones">
        <option value="">MODELO</option>
        <option value="A">OPCION A</option>
        <option value="B">OPCION B</option>
        <option value="C">OPCION C</option>
        <option value="D">OPCION D</option>
    </select>
</div>
<div class="botones-colores">
    <button class="boton-color"></button>
    <button class="boton-color"></button>
    <button class="boton-color"></button>
    <button class="boton-color"></button>
    <button class="boton-color"></button>
    <button class="boton-color"></button>
    <button class="boton-color"></button>
    <button class="boton-color"></button>
    <button class="boton-color"></button>
</div>

    <!--Empiezo parte nosotros-->
    <div class="nostros-galeria" id="Nosotros">
        <header>
          <h1>¿QUIENES SOMOS?</h1>
        </header>
        <section class="unslidesshow">
          <div class="losslides">
            <img src="../imagenes/seccion_nosotros/buzo_economia 3.jpg" alt="primer-imagen">
            <img src="../imagenes/seccion_nosotros/egresados4 1.jpg" alt="segunda-imagen">
            <img src="../imagenes/seccion_nosotros/egresados1 1.jpg" alt="tercera-imagen">
            <img src="../imagenes/seccion_nosotros/egresados2 1.jpg" alt="cuarta-imagen">
            
          </div>
        </section>
        <section class="mensajeenmedio">
          <p>Fabrica dedicada al rubro de los uniformes desde hace 15 años. Equipo de profesionales idóneos y máquinas de diseño y bordado de última generación. Pero principalmente nos dedicamos a hacer a los egresados felices.</p>
        </section>
        <section class="lagaleria">
          <img src="../imagenes/seccion_nosotros/buzo_economia2 1.jpg" alt="quinta-imagen">
          <img src="../imagenes/seccion_nosotros/egresados3 1.jpg" alt="sexta-imagen">
          <img src="../imagenes/seccion_nosotros/egresadas1 1.jpg" alt="septima-imagen">
        </section>
       </div>
       <div>
        <footer>
          
        </footer>


        <!--de la parte de nav-links-->
        <a href="#Nosotros" class="btn" >Nosotros</a>
        <a href="#" class="btn" >Contacto</a>
       </div>
         
       // Función para actualizar las opciones de tela según el tipo de prenda seleccionado
function actualizarOpcionesTela() {
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const tipoTela = document.getElementById('tipoTela');
    tipoTela.innerHTML = ''; // Limpiar opciones anteriores

    let opcionesTela = [];

    switch (tipoPrenda) {
        case 'remera':
            opcionesTela = ['Algodón', 'Jersey Algodón'];
            break;
        case 'remera_sublimacion':
            opcionesTela = ['Poliéster 100%', 'Poliéster/Algodón 50/50'];
            break;
        case 'chomba':
            opcionesTela = ['Piqué de Algodón'];
            break;
        case 'buzo':
        case 'campera':
            opcionesTela = ['Friza Premium'];
            break;
        case 'rompevientos':
            opcionesTela = ['Nylon'];
            break;
    }

    // Agregar las opciones de tela al select
    opcionesTela.forEach(tela => {
        const option = document.createElement('option');
        option.value = tela.toLowerCase().replace(/ /g, '_');
        option.textContent = tela;
        tipoTela.appendChild(option);
    });

    // Restaurar selección de tipo de tela desde localStorage si existe
    const storedTipoTela = localStorage.getItem('tipoTela');
    if (storedTipoTela) {
        tipoTela.value = storedTipoTela;
    }
}

function updateOptions() {
    const select = document.getElementById('ubicacionNombre');
    const dynamicOptions = document.getElementById('dynamicOptions');
    dynamicOptions.innerHTML = ''; // clear existing options

    if (select.value === 'Estampados') {
        dynamicOptions.innerHTML = `
            <label for="estampados">Cantidad de Estampas:</label>
            <input type="number" id="estampados" name="estampados" min="0">
        `;
    } else if (select.value === 'Bordados') {
        dynamicOptions.innerHTML = `
            <label for="bordados">Cantidad de Bordados:</label>
            <input type="number" id="bordados" name="bordados" min="0">
        `;
    } else if (select.value === 'Ambas') {
        dynamicOptions.innerHTML = `
            <label for="estampados">Cantidad de Estampados:</label>
            <input type="number" id="estampados" name="estampados" min="0">
            <label for="bordados">Cantidad de Bordados:</label>
            <input type="number" id="bordados" name="bordados" min="0">
        `;
    }
}

// Función para actualizar las opciones de tela según el tipo de prenda seleccionado
function actualizarOpcionesTela() {
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const tipoTela = document.getElementById('tipoTela');
    tipoTela.innerHTML = ''; // Limpiar opciones anteriores

    let opcionesTela = [];

    switch (tipoPrenda) {
        case 'remera':
            opcionesTela = ['Algodón', 'Jersey Algodón'];
            break;
        case 'remera_sublimacion':
            opcionesTela = ['Poliéster 100%', 'Poliéster/Algodón 50/50'];
            break;
        case 'chomba':
            opcionesTela = ['Piqué de Algodón'];
            break;
        case 'buzo':
        case 'campera':
            opcionesTela = ['Friza Premium'];
            break;
        case 'rompevientos':
            opcionesTela = ['Nylon'];
            break;
    }

    // Agregar las opciones de tela al select
    opcionesTela.forEach(tela => {
        const option = document.createElement('option');
        option.value = tela.toLowerCase().replace(/ /g, '_');
        option.textContent = tela;
        tipoTela.appendChild(option);
    });

    // Restaurar selección de tipo de tela desde localStorage si existe
    const storedTipoTela = localStorage.getItem('tipoTela');
    if (storedTipoTela) {
        tipoTela.value = storedTipoTela;
    }
}

// Función para guardar datos en localStorage
function guardarDatos() {
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const tipoTela = document.getElementById('tipoTela').value;
    const ubicacionNombre = document.getElementById('ubicacionNombre').value;
    const nombresTalles = document.getElementById('nombresTalles').value;
    const otrosDetalles = document.getElementById('otrosDetalles').value;

    localStorage.setItem('tipoPrenda', tipoPrenda);
    localStorage.setItem('tipoTela', tipoTela);
    localStorage.setItem('ubicacionNombre', ubicacionNombre);
    localStorage.setItem('nombresTalles', nombresTalles);
    localStorage.setItem('otrosDetalles', otrosDetalles);
}

// Función para restaurar datos desde localStorage
function restaurarDatos() {
    const tipoPrenda = localStorage.getItem('tipoPrenda');
    const tipoTela = localStorage.getItem('tipoTela');
    const ubicacionNombre = localStorage.getItem('ubicacionNombre');
    const nombresTalles = localStorage.getItem('nombresTalles');
    const otrosDetalles = localStorage.getItem('otrosDetalles');

    if (tipoPrenda) document.getElementById('tipoPrenda').value = tipoPrenda;
    if (ubicacionNombre) document.getElementById('ubicacionNombre').value = ubicacionNombre;
    if (nombresTalles) document.getElementById('nombresTalles').value = nombresTalles;
    if (otrosDetalles) document.getElementById('otrosDetalles').value = otrosDetalles;
}

// Función para guardar el informe en localStorage
function guardarInforme() {
    const modeloChomba = document.getElementById('modeloChomba').innerText;
    const tipoTelaInfo = document.getElementById('tipoTelaInfo').innerText;
    const ubicacionNombreInfo = document.getElementById('ubicacionNombreInfo').innerText;
    const otrosDetallesText = document.getElementById('otrosDetallesText').innerText;
    const listaTallesNombres = Array.from(document.getElementById('listaTallesNombres').children).map(li => li.innerText);

    localStorage.setItem('modeloChomba', modeloChomba);
    localStorage.setItem('tipoTelaInfo', tipoTelaInfo);
    localStorage.setItem('ubicacionNombreInfo', ubicacionNombreInfo);
    localStorage.setItem('otrosDetallesText', otrosDetallesText);
    localStorage.setItem('listaTallesNombres', JSON.stringify(listaTallesNombres));
}

// Función para restaurar el informe desde localStorage
function restaurarInforme() {
    const modeloChomba = localStorage.getItem('modeloChomba');
    const tipoTelaInfo = localStorage.getItem('tipoTelaInfo');
    const ubicacionNombreInfo = localStorage.getItem('ubicacionNombreInfo');
    const otrosDetallesText = localStorage.getItem('otrosDetallesText');
    const listaTallesNombres = JSON.parse(localStorage.getItem('listaTallesNombres'));

    if (modeloChomba) document.getElementById('modeloChomba').innerText = modeloChomba;
    if (tipoTelaInfo) document.getElementById('tipoTelaInfo').innerText = tipoTelaInfo;
    if (ubicacionNombreInfo) document.getElementById('ubicacionNombreInfo').innerText = ubicacionNombreInfo;
    if (otrosDetallesText) document.getElementById('otrosDetallesText').innerText = otrosDetallesText;

    if (listaTallesNombres) {
        const lista = document.getElementById('listaTallesNombres');
        lista.innerHTML = '';
        listaTallesNombres.forEach(item => {
            const li = document.createElement('li');
            li.innerText = item;
            lista.appendChild(li);
        });
    }
}

// Función para generar el informe basado en los datos ingresados
function generarInforme() {
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const tipoTela = document.getElementById('tipoTela').value;
    const ubicacionNombre = document.getElementById('ubicacionNombre').value;
    const nombresTalles = document.getElementById('nombresTalles').value.split('\n').filter(item => item.trim() !== '');
    const otrosDetalles = document.getElementById('otrosDetalles').value;

    document.getElementById('modeloChomba').innerText = `Modelo de indumentaria: ${tipoPrenda.replace(/_/g, ' ').toUpperCase()}`;
    document.getElementById('tipoTelaInfo').innerText = `Tipo de tela: ${tipoTela.replace(/_/g, ' ')}`;
    document.getElementById('ubicacionNombreInfo').innerText = `El nombre debe ir: ${ubicacionNombre}`;
    document.getElementById('otrosDetallesText').innerText = otrosDetalles;

    const listaTallesNombres = document.getElementById('listaTallesNombres');
    listaTallesNombres.innerHTML = '';
    nombresTalles.forEach(item => {
        const li = document.createElement('li');
        li.innerText = item;
        listaTallesNombres.appendChild(li);
    });

    // Guardar datos e informe en localStorage
    guardarDatos();
    guardarInforme();
}

// Inicializar opciones de tela y restaurar datos cuando se carga la página
document.addEventListener('DOMContentLoaded', () => {
    // Marcar la sesión como activa
    sessionStorage.setItem('isActive', 'true');

    restaurarDatos();
    actualizarOpcionesTela();
    restaurarInforme();

    // Agregar event listeners para guardar datos cuando se cambian los inputs
    document.getElementById('tipoPrenda').addEventListener('change', () => {
        actualizarOpcionesTela();
        guardarDatos();
    });
    document.getElementById('tipoTela').addEventListener('change', guardarDatos);
    document.getElementById('ubicacionNombre').addEventListener('change', guardarDatos);
    document.getElementById('nombresTalles').addEventListener('input', guardarDatos);
    document.getElementById('otrosDetalles').addEventListener('input', guardarDatos);
});

// Limpiar localStorage al cerrar la pestaña o ventana
window.addEventListener('beforeunload', () => {
    // Verificar si la sesión está activa
    if (!sessionStorage.getItem('isActive')) {
        localStorage.clear();
    }
    // Eliminar la marca de sesión activa
    sessionStorage.removeItem('isActive');
});


Esto es borrado temporalmente.
// Función para guardar datos en localStorage
function guardarDatos() {
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const tipoTela = document.getElementById('tipoTela').value;
    const ubicacionNombre = document.getElementById('ubicacionNombre').value;
    const nombresTalles = document.getElementById('nombresTalles').value;
    const otrosDetalles = document.getElementById('otrosDetalles').value;

    localStorage.setItem('tipoPrenda', tipoPrenda);
    localStorage.setItem('tipoTela', tipoTela);
    localStorage.setItem('ubicacionNombre', ubicacionNombre);
    localStorage.setItem('nombresTalles', nombresTalles);
    localStorage.setItem('otrosDetalles', otrosDetalles);
}

// Función para restaurar datos desde localStorage
function restaurarDatos() {
    const tipoPrenda = localStorage.getItem('tipoPrenda');
    const tipoTela = localStorage.getItem('tipoTela');
    const ubicacionNombre = localStorage.getItem('ubicacionNombre');
    const nombresTalles = localStorage.getItem('nombresTalles');
    const otrosDetalles = localStorage.getItem('otrosDetalles');

    if (tipoPrenda) document.getElementById('tipoPrenda').value = tipoPrenda;
    if (tipoTela) document.getElementById('tipoTela').value = tipoTela;
    if (ubicacionNombre) document.getElementById('ubicacionNombre').value = ubicacionNombre;
    if (nombresTalles) document.getElementById('nombresTalles').value = nombresTalles;
    if (otrosDetalles) document.getElementById('otrosDetalles').value = otrosDetalles;
}

// Función para guardar el informe en localStorage
function guardarInforme() {
    const modeloChomba = document.getElementById('modeloChomba').innerText;
    const tipoTelaInfo = document.getElementById('tipoTelaInfo').innerText;
    const ubicacionNombreInfo = document.getElementById('ubicacionNombreInfo').innerText;
    const otrosDetallesText = document.getElementById('otrosDetallesText').innerText;
    const listaTallesNombres = Array.from(document.getElementById('listaTallesNombres').children).map(li => li.innerText);

    localStorage.setItem('modeloChomba', modeloChomba);
    localStorage.setItem('tipoTelaInfo', tipoTelaInfo);
    localStorage.setItem('ubicacionNombreInfo', ubicacionNombreInfo);
    localStorage.setItem('otrosDetallesText', otrosDetallesText);
    localStorage.setItem('listaTallesNombres', JSON.stringify(listaTallesNombres));
}

// Función para restaurar el informe desde localStorage
function restaurarInforme() {
    const modeloChomba = localStorage.getItem('modeloChomba');
    const tipoTelaInfo = localStorage.getItem('tipoTelaInfo');
    const ubicacionNombreInfo = localStorage.getItem('ubicacionNombreInfo');
    const otrosDetallesText = localStorage.getItem('otrosDetallesText');
    const listaTallesNombres = JSON.parse(localStorage.getItem('listaTallesNombres'));

    if (modeloChomba) document.getElementById('modeloChomba').innerText = modeloChomba;
    if (tipoTelaInfo) document.getElementById('tipoTelaInfo').innerText = tipoTelaInfo;
    if (ubicacionNombreInfo) document.getElementById('ubicacionNombreInfo').innerText = ubicacionNombreInfo;
    if (otrosDetallesText) document.getElementById('otrosDetallesText').innerText = otrosDetallesText;

    if (listaTallesNombres) {
        const lista = document.getElementById('listaTallesNombres');
        lista.innerHTML = '';
        listaTallesNombres.forEach(item => {
            const li = document.createElement('li');
            li.innerText = item;
            lista.appendChild(li);
        });
    }
}

// Función para generar el informe basado en los datos ingresados
function generarInforme() {
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const cantidadPrendas = document.getElementById('cantidadPrendas').value;
    const tipoTela = document.getElementById('tipoTela').value;
    const ubicacionNombre = document.getElementById('ubicacionNombre').value;
    const nombresTalles = document.getElementById('nombresTalles').value.split('\n').filter(item => item.trim() !== '');
    const otrosDetalles = document.getElementById('otrosDetalles').value;
    const prendaGeneralParticular = document.querySelector('input[name="generalParticular"]:checked').value;

    const dynamicOptions = document.getElementById('dynamicOptions');
    const opciones = dynamicOptions.querySelectorAll('input[type="number"]');
    let logoInfo = 'En la prenda seleccionada lleva logos en:\n';

    opciones.forEach(opcion => {
        const cantidad = opcion.value;
        if (cantidad > 0) {
            const ubicacion = opcion.id.replace(/_/g, ' ');
            logoInfo += `- ${ubicacion}: ${cantidad}\n`;
        }
    });

    const pedido = {
        numero: pedidoNumero,
        tipoPrenda: tipoPrenda,
        cantidadPrendas: cantidadPrendas,
        tipoTela: tipoTela,
        nombresTalles: nombresTalles,
        otrosDetalles: otrosDetalles,
        prendaGeneralParticular: prendaGeneralParticular,
        logoInfo: logoInfo
    };

    pedidos.push(pedido);
    actualizarInforme();
    pedidoNumero++;
}

// Inicializar opciones de tela y restaurar datos cuando se carga la página
document.addEventListener('DOMContentLoaded', () => {
    // Marcar la sesión como activa
    sessionStorage.setItem('isActive', 'true');

    restaurarDatos();
    actualizarOpcionesTela();
    restaurarInforme();

    // Agregar event listeners para guardar datos cuando se cambian los inputs
    document.getElementById('tipoPrenda').addEventListener('change', () => {
        actualizarOpcionesTela();
        guardarDatos();
    });
    document.getElementById('tipoTela').addEventListener('change', guardarDatos);
    document.getElementById('ubicacionNombre').addEventListener('change', guardarDatos);
    document.getElementById('nombresTalles').addEventListener('input', guardarDatos);
    document.getElementById('otrosDetalles').addEventListener('input', guardarDatos);
});

// Limpiar localStorage al cerrar la pestaña o ventana
window.addEventListener('beforeunload', () => {
    // Verificar si la sesión está activa
    if (!sessionStorage.getItem('isActive')) {
        localStorage.clear();
    }
    // Eliminar la marca de sesión activa
    sessionStorage.removeItem('isActive');
});

<!--COSAS QUE PODRIA AGREGAR-->
<h3>Fecha de entrega</h3>
          <div class="inputone">
            <input type="date" id="fechaEntrega">
          </div>
        </div>

<div class="Segundacolumna">
    <h3>Especificaciones adicionales:</h3>
    <textarea id="especificacionesAdicionales"></textarea>

    <h3>Adjuntar imagen (opcional):</h3>
    <div class="inputone">
      <input type="file" id="imagen" accept="image/*">
    </div>

    <h3>¿Desea agregar logos adicionales?</h3>
    <div class="inputone">
      <input type="radio" id="logoSi" name="logo" value="si" onchange="toggleLogoOptions()">
      <label for="logoSi">Sí</label>
      <input type="radio" id="logoNo" name="logo" value="no" onchange="toggleLogoOptions()" checked>
      <label for="logoNo">No</label>
    </div>

    <div id="logoOptions" style="display:none">
      <div class="inputone">
        <input type="file" id="logo1" accept="image/*">
      </div>
      <div class="inputone">
        <input type="file" id="logo2" accept="image/*">
      </div>
    </div>
  </div>


  <h3>Especificaciones de prendas</h3>
            <div>
              <input type="radio" id="general" name="generalParticular" value="general">
              <label for="general">Generales (todas iguales)</label><br>
              <input type="radio" id="particular" name="generalParticular" value="particular">
              <label for="particular">Particulares(Cada una diferente)</label>
            </div>

            <div id="nombresTallesDiv" style="display:none">
                <h3>Nombres y talles:</h3>
                <div class="inputone">
                    <textarea id="nombresTalles" placeholder="Ej: Nombre - Talle - Característica Adicional&#10;Lucia - S - Con nombre&#10;Eugenia - M - Con iniciales&#10;David - L - Sin adicionales"></textarea>
                </div>
            </div>
            
            <h3>Nombres y talles:</h3>
            <div class="inputone">
              <textarea id="nombresTalles" placeholder="Ej: Nombre - Talle&#10;Lucia - S&#10;Eugenia - M&#10;David - L"></textarea>
            </div>

            function generarInformeFinal() {
                const seleccion = document.querySelector('input[name="generalParticular"]:checked').value;
            
                if (seleccion === 'general') {
                    if (validarGenerales()) {
                        generarInformeGenerales();
                    }
                } else if (seleccion === 'particular') {
                    if (validarParticulares()) {
                        generarInformeParticulares();
                    }
                }
            }
            
            <!--PAUSA-->

            function validarGenerales() {
                const cantidadPrendas = parseInt(document.getElementById('cantidadPrendas').value);
                let totalTalles = 0;
            
                const tallesGenerales = document.getElementById('tallesGenerales').getElementsByTagName('input');
            
                for (let i = 0; i < tallesGenerales.length; i++) {
                    totalTalles += parseInt(tallesGenerales[i].value) || 0;
                }
            
                if (totalTalles !== cantidadPrendas) {
                    alert('La suma de las cantidades por talle no coincide con la cantidad total de prendas.');
                    return false;
                }
                return true;
            }
            
            function validarParticulares() {
                const cantidadPrendas = parseInt(document.getElementById('cantidadPrendas').value);
            
                for (let i = 1; i <= cantidadPrendas; i++) {
                    const talle = document.getElementById(`talle${i}`).value;
                    const nombreLogo = document.getElementById(`nombreLogo${i}`).value;
            
                    if (!talle) {
                        alert(`Por favor, selecciona un talle para la prenda ${i}.`);
                        return false;
                    }
            
                    if (!nombreLogo) {
                        alert(`Por favor, ingresa un nombre o logo para la prenda ${i}.`);
                        return false;
                    }
                }
                return true;
            }
            
            function generarInformeGenerales() {
                const cantidadPrendas = parseInt(document.getElementById('cantidadPrendas').value);
                let informe = `Total de prendas: ${cantidadPrendas}\n\nDistribución por talles:\n`;
            
                const tallesGenerales = document.getElementById('tallesGenerales').getElementsByTagName('input');
            
                for (let i = 0; i < tallesGenerales.length; i++) {
                    const cantidadTalle = parseInt(tallesGenerales[i].value) || 0;
                    if (cantidadTalle > 0) {
                        informe += `${tallesGenerales[i].id.replace(/_/g, ' ')}: ${cantidadTalle}\n`;
                    }
                }
            
                alert(informe);
            }
            
            function generarInformeParticulares() {
                const cantidadPrendas = parseInt(document.getElementById('cantidadPrendas').value);
                let informe = `Total de prendas: ${cantidadPrendas}\n\nEspecificaciones de cada prenda:\n`;
            
                for (let i = 1; i <= cantidadPrendas; i++) {
                    const talle = document.getElementById(`talle${i}`).value;
                    const nombreLogo = document.getElementById(`nombreLogo${i}`).value;
            
                    informe += `Prenda ${i}: Talle: ${talle}, Nombre/Logo: ${nombreLogo}\n`;
                }
            
                alert(informe);
            }
<!--OTRA PAUSA-->

function mostrarCamposTalles(esGeneral) {
    const camposTalles = document.getElementById('camposTalles');
    const nombresTallesDiv = document.getElementById('nombresTallesDiv');

    if (esGeneral) {
        camposTalles.style.display = 'block';
        nombresTallesDiv.style.display = 'none';
    } else {
        camposTalles.style.display = 'none';
        nombresTallesDiv.style.display = 'block';
    }
}

function mostrarFormulario() {
    const formGenerales = document.getElementById('formGenerales');
    const formParticulares = document.getElementById('formParticulares');
    const seleccion = document.querySelector('input[name="generalParticular"]:checked').value;

    if (seleccion === 'general') {
        formGenerales.style.display = 'block';
        formParticulares.style.display = 'none';
        generarCamposGenerales();
    } else if (seleccion === 'particular') {
        formGenerales.style.display = 'none';
        formParticulares.style.display = 'block';
        generarFormulariosParticulares();
    }
}

function generarCamposGenerales() {
    const cantidadPrendas = parseInt(document.getElementById('cantidadPrendas').value);
    const tallesGenerales = document.getElementById('tallesGenerales');

    tallesGenerales.innerHTML = ''; // Limpiar campos anteriores

    // Aquí puedes definir los talles que se necesiten
    const talles = ['Talle 10', 'Talle 12', 'Talle 14', 'Talle 16', 'Talle S', 'Talle M', 'Talle L', 'Talle XL', 'Talle XXL', 'Talle XXXL'];

    talles.forEach(talle => {
        const div = document.createElement('div');
        div.innerHTML = `
            <label for="${talle}">${talle}:</label>
            <input type="number" id="${talle.replace(/\s+/g, '_')}" min="0" value="0">
        `;
        tallesGenerales.appendChild(div);
    });
}

function generarFormulariosParticulares() {
    const cantidadPrendas = parseInt(document.getElementById('cantidadPrendas').value);
    const especificacionesParticulares = document.getElementById('especificacionesParticulares');

    especificacionesParticulares.innerHTML = ''; // Limpiar formularios anteriores

    for (let i = 1; i <= cantidadPrendas; i++) {
        const div = document.createElement('div');
        div.innerHTML = `
            <h4>Prenda ${i}:</h4>
            <label for="talle${i}">Talle:</label>
            <select id="talle${i}">
                <option value="10"> Talle 10  (44x59)</option>
                <option value="12"> Talle 12 (46x61)</option>
                <option value="14"> Talle 14 (48x63)</option>
                <option value="16"> Talle 16 (50x67)</option>
                <option value="S"> Talle S/P (52x69)</option>
                <option value="M"> Talle M (54x72)</option>
                <option value="L"> Talle L (56x73)</option>
                <option value="XL"> Talle XL (58x74)</option>
                <option value="XXL"> Talle XXL (60x78)</option>
            </select><br>
            <label for="nombreLogo${i}">Nombre o Logo:</label>
            <input type="text" id="nombreLogo${i}" placeholder="Nombre o logo específico">
        `;
        especificacionesParticulares.appendChild(div);
    }
}


// Generar el informe completo dependiendo del tipo de prenda
function generarelminiInforme() {
    const seleccion = document.querySelector('input[name="generalParticular"]:checked').value;

    if (seleccion === 'general' && validarGenerales()) {
        generarInformeGenerales();
    } else if (seleccion === 'particular' && validarParticulares()) {
        generarInformeParticulares();
    }

    // Incrementar el número de pedido
    pedidoNumero++;
    guardarDatos();
}


<!--pausa-->
// Restablecer el formulario para un nuevo pedido
function agregarOtroPedido() {
    const form = document.getElementById('pedidoForm');
    form.reset();
    mostrarFormulario(); // Asegura que se muestren los campos correctos
}

// Cargar datos de localStorage al cargar la página
document.addEventListener('DOMContentLoaded', function() {
    actualizarOpcionesTela();
    const tipoPrenda = localStorage.getItem('tipoPrenda');
    if (tipoPrenda) {
        document.getElementById('tipoPrenda').value = tipoPrenda;
    }

    guardarDatos(); // Guardar datos al inicio
});



function actualizarInforme() {
    const detallesPedido = document.getElementById('detallesPedido');
    detallesPedido.innerHTML = '';

    pedidos.forEach(pedido => {
        const pedidoDiv = document.createElement('div');
        pedidoDiv.className = 'pedido';

        let nombresTallesHTML = '<ul>';
        if (pedido.prendaGeneralParticular === 'general') {
            const tallesGenerales = document.getElementById('tallesGenerales').getElementsByTagName('input');
            for (let i = 0; i < tallesGenerales.length; i++) {
                const cantidadTalle = parseInt(tallesGenerales[i].value) || 0;
                if (cantidadTalle > 0) {
                    nombresTallesHTML += `<li>${tallesGenerales[i].id.replace(/_/g, ' ')}: ${cantidadTalle}</li>`;
                }
            }
        } else if (pedido.prendaGeneralParticular === 'particular') {
            pedido.nombresTalles.forEach(item => {
                nombresTallesHTML += `<li>${item}</li>`;
            });
        }
        nombresTallesHTML += '</ul>';

        pedidoDiv.innerHTML = `
            <h2>Pedido: ${pedido.numero}</h2>
            <p>Hay ${pedido.cantidadPrendas} de ${pedido.tipoPrenda.replace(/_/g, ' ')}</p>
            <p>Tipo de tela: ${pedido.tipoTela.replace(/_/g, ' ')}</p>
            <p>Fecha de entrega: ${pedido.fechaEntrega}</p>
            <p>${pedido.logoInfo}</p>
            <p>Listado de nombres y talles:</p>
            ${nombresTallesHTML}
            <p>Otros detalles: ${pedido.otrosDetalles}</p>
            <p>Las prendas son: ${pedido.prendaGeneralParticular === 'general' ? 'Generales (todas iguales)' : 'Particulares (cada una diferente)'}</p>
        `;

        detallesPedido.appendChild(pedidoDiv);
    });
}
function agregarOtroPedido() {
    generarInforme();
    // Resetear los campos del formulario
    document.getElementById('tipoPrenda').value = '';
    document.getElementById('cantidadPrendas').value = '';
    document.getElementById('tipoTela').innerHTML = '';
    document.getElementById('nombresTalles').value = '';
    document.getElementById('otrosDetalles').value = '';
    document.getElementById('dynamicOptions').innerHTML = '';
    document.querySelector('input[name="generalParticular"]:checked').checked = false;

    actualizarOpcionesTela();
    updateOptions();
}

// Inicializar opciones de tela y restaurar datos cuando se carga la página
document.addEventListener('DOMContentLoaded', () => {
    // Marcar la sesión como activa
    sessionStorage.setItem('isActive', 'true');

    actualizarOpcionesTela();
    updateOptions();

    // Agregar event listeners para guardar datos cuando se cambian los inputs
    document.getElementById('tipoPrenda').addEventListener('change', () => {
        actualizarOpcionesTela();
        updateOptions();
        guardarDatos();
    });
    document.getElementById('tipoTela').addEventListener('change', guardarDatos);
    document.getElementById('nombresTalles').addEventListener('input', guardarDatos);
    document.getElementById('otrosDetalles').addEventListener('input', guardarDatos);
});

// Limpiar localStorage al cerrar la pestaña o ventana
window.addEventListener('beforeunload', () => {
    // Verificar si la sesión está activa
    if (!sessionStorage.getItem('isActive')) {
        localStorage.clear();
    }
    // Eliminar la marca de sesión activa
    sessionStorage.removeItem('isActive');
});


function generarInforme() {
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const cantidadPrendas = document.getElementById('cantidadPrendas').value;
    const tipoTela = document.getElementById('tipoTela').value;
    const otrosDetalles = document.getElementById('otrosDetalles').value;
    const prendaGeneralParticular = document.querySelector('input[name="generalParticular"]:checked').value;

    const dynamicOptions = document.getElementById('dynamicOptions');
    const opciones = dynamicOptions.querySelectorAll('input[type="number"]');
    let logoInfo = 'En la prenda seleccionada lleva logos en:\n';

    opciones.forEach(opcion => {
        const cantidad = opcion.value;
        if (cantidad > 0) {
            const ubicacion = opcion.id.replace(/_/g, ' ');
            logoInfo += `- ${ubicacion}: ${cantidad}\n`;
        }
    });

    const pedido = {
        numero: pedidoNumero,
        tipoPrenda: tipoPrenda,
        cantidadPrendas: cantidadPrendas,
        tipoTela: tipoTela,
        prendaGeneralParticular: prendaGeneralParticular,
        logoInfo: logoInfo,
        otrosDetalles: otrosDetalles
    };

    pedidos.push(pedido);
    actualizarInforme();
    pedidoNumero++;

    guardarDatos();
}
else if (pedido.prendaGeneralParticular === 'particular') {
    pedido.nombresTalles.forEach(item => {
        nombresTallesHTML += `<li>${item}</li>`;

<!--COSAS DEL FUNCTION-->
function generarInforme() {
    // Obtén los valores básicos
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const cantidadPrendas = document.getElementById('cantidadPrendas').value;
    const tipoTela = document.getElementById('tipoTela').value;
    const otrosDetalles = document.getElementById('otrosDetalles').value;
    const fechaEntrega = document.getElementById('fechaEntrega').value;
    const prendaGeneralParticular = document.querySelector('input[name="generalParticular"]:checked').value;
    
    // Comprobar si todos los campos obligatorios están llenos
    if (!tipoPrenda || !cantidadPrendas || !tipoTela || !otrosDetalles ||!fechaEntrega || !prendaGeneralParticular) {
        alert("Por favor, complete todos los campos antes de generar el informe.");
        return;
    }

    // Agregar información sobre logos/agregados
    const dynamicOptions = document.getElementById('dynamicOptions');
    const opciones = dynamicOptions.querySelectorAll('input[type="number"]');
    let logoInfo = 'Ubicaciones seleccionadas:\n';

    opciones.forEach(opcion => {
        const cantidad = opcion.value;
        if (cantidad > 0) {
            const ubicacion = opcion.id.replace(/_/g, ' ');
            logoInfo += `- ${ubicacion}: ${cantidad}\n`;
        }
    });

    // Variable para almacenar nombres y talles si es prenda particular
    let nombresTalles = [];

    if (prendaGeneralParticular === 'particular') {
        for (let i = 1; i <= cantidadPrendas; i++) {
            const talle = document.getElementById(`talle${i}`).value;
            const nombreLogo = document.getElementById(`nombreLogo${i}`).value;
            nombresTalles.push(`Prenda ${i}: Talle ${talle}, Nombre/Logo: ${nombreLogo}`);
        }
    }

    // Crea un pedido
    const pedido = {
        numero: pedidoNumero,
        tipoPrenda: tipoPrenda,
        cantidadPrendas: cantidadPrendas,
        tipoTela: tipoTela,
        prendaGeneralParticular: prendaGeneralParticular,
        logoInfo: logoInfo,
        otrosDetalles: otrosDetalles,
        fechaEntrega: fechaEntrega,
        nombresTalles: nombresTalles
    };

    // Agrega el pedido al array
    pedidos.push(pedido);
    actualizarInforme(); // Actualiza la columna de informes
    pedidoNumero++; // Incrementa el número de pedido

    guardarDatos(); // Guarda los datos actualizados en el localStorage
}

// Actualizar la columna de detalles del pedido
function actualizarInforme() {
    const detallesPedido = document.getElementById('detallesPedido');
    detallesPedido.innerHTML = '';  // Limpiar el contenido anterior

    pedidos.forEach(pedido => {
        const pedidoDiv = document.createElement('div');
        pedidoDiv.className = 'pedido';

        let nombresTallesHTML = '<ul>';
        if (pedido.prendaGeneralParticular === 'general') {
            const tallesGenerales = document.getElementById('tallesGenerales').getElementsByTagName('input');
            for (let i = 0; i < tallesGenerales.length; i++) {
                const cantidadTalle = parseInt(tallesGenerales[i].value) || 0;
                if (cantidadTalle > 0) {
                    nombresTallesHTML += `<li>${tallesGenerales[i].id.replace(/_/g, ' ')}: ${cantidadTalle}</li>`;
                }
            }
        } else if (pedido.prendaGeneralParticular === 'particular') {
            pedido.nombresTalles.forEach(item => {
                nombresTallesHTML += `<li>${item}</li>`;
            });
        }

        nombresTallesHTML += '</ul>';

        pedidoDiv.innerHTML = `
            <h2>Pedido: ${pedido.numero}</h2>
            <p>Tipo de prenda: ${pedido.tipoPrenda.replace(/_/g, ' ')}</p>
            <p>Cantidad de prendas: ${pedido.cantidadPrendas}</p>
            <p>Tipo de tela: ${pedido.tipoTela.replace(/_/g, ' ')}</p>
            <p>Fecha de entrega: ${pedido.fechaEntrega}</p>
            <p>${pedido.logoInfo}</p>
            <p>Otros detalles: ${pedido.otrosDetalles}</p>
            <p>Las prendas son: ${pedido.prendaGeneralParticular === 'general' ? 'Generales (todas iguales)' : 'Particulares (cada una diferente)'}</p>
            ${nombresTallesHTML}
        `;

        detallesPedido.appendChild(pedidoDiv);
    });
}

// Inicializar opciones de tela y restaurar datos cuando se carga la página
document.addEventListener('DOMContentLoaded', () => {
    sessionStorage.setItem('isActive', 'true'); // Marcar la sesión como activa
    actualizarOpcionesTela();
    updateOptions();

    // Restaurar selección de tipo de prenda desde localStorage
    const tipoPrenda = localStorage.getItem('tipoPrenda');
    if (tipoPrenda) {
        document.getElementById('tipoPrenda').value = tipoPrenda;
        actualizarOpcionesTela();
    }
});

// Limpiar localStorage al cerrar la pestaña o ventana
window.addEventListener('beforeunload', () => {
    if (!sessionStorage.getItem('isActive')) {
        localStorage.clear();
    }
    sessionStorage.removeItem('isActive');
});

let pedidoNumero = parseInt(localStorage.getItem('pedidoNumero')) || 1;
let pedidos = JSON.parse(localStorage.getItem('pedidos')) || [];
let usuarioNombre = localStorage.getItem('usuarioNombre') || 'Usuario';  // Nombre del usuario
let pedidoId = localStorage.getItem('pedidoId') || `${usuarioNombre}_${new Date().toISOString().split('T')[0]}`;

function generarInforme() {
    // Obtén los valores básicos
    const tipoPrenda = document.getElementById('tipoPrenda').value;
    const cantidadPrendas = document.getElementById('cantidadPrendas').value;
    const tipoTela = document.getElementById('tipoTela').value;
    const otrosDetalles = document.getElementById('otrosDetalles').value;
    const fechaEntrega = document.getElementById('fechaEntrega').value;
    const prendaGeneralParticular = document.querySelector('input[name="generalParticular"]:checked').value;
    
    // Comprobar si todos los campos obligatorios están llenos
    if (!tipoPrenda || !cantidadPrendas || !tipoTela || !otrosDetalles ||!fechaEntrega || !prendaGeneralParticular) {
        alert("Por favor, complete todos los campos antes de generar el informe.");
        return;
    }

    // Agregar información sobre logos/agregados
    const dynamicOptions = document.getElementById('dynamicOptions');
    const opciones = dynamicOptions.querySelectorAll('input[type="number"]');
    let logoInfo = 'Ubicaciones seleccionadas:\n';

    opciones.forEach(opcion => {
        const cantidad = opcion.value;
        if (cantidad > 0) {
            const ubicacion = opcion.id.replace(/_/g, ' ');
            logoInfo += `- ${ubicacion}: ${cantidad}\n`;
        }
    });

    // Variable para almacenar nombres y talles si es prenda particular
    let nombresTalles = [];

    if (prendaGeneralParticular === 'particular') {
        for (let i = 1; i <= cantidadPrendas; i++) {
            const talle = document.getElementById(`talle${i}`).value;
            const nombreLogo = document.getElementById(`nombreLogo${i}`).value;
            nombresTalles.push(`Prenda ${i}: Talle ${talle}, Nombre/Logo: ${nombreLogo}`);
        }
    }

    // Crea un pedido
    const pedido = {
        numero: pedidoNumero,
        tipoPrenda: tipoPrenda,
        cantidadPrendas: cantidadPrendas,
        tipoTela: tipoTela,
        prendaGeneralParticular: prendaGeneralParticular,
        logoInfo: logoInfo,
        otrosDetalles: otrosDetalles,
        fechaEntrega: fechaEntrega,
        nombresTalles: nombresTalles
    };

    pedidos.push(pedido);
    actualizarInforme();  // Actualiza la columna de informes

    guardarDatos();  // Guarda los datos actualizados en el localStorage
}



function agregarOtroPedido() {
    generarInforme();  // Generar informe antes de agregar otra prenda
    pedidoNumero++;  // Incrementar el número de pedido
    pedidoId = `${usuarioNombre}_${new Date().toISOString().split('T')[0]}_${pedidoNumero}`;  // Actualizar el ID del pedido
    localStorage.setItem('pedidoNumero', pedidoNumero);  // Guardar el nuevo número de pedido
    localStorage.setItem('pedidoId', pedidoId);  // Guardar el nuevo ID del pedido
    limpiarFormulario();  // Limpiar las opciones de la prenda previa
}

const nombreUsuario = document.getElementById('username').value;
    const fechaEntrega = document.getElementById('fechaEntrega').value;

    if (localStorage.getItem('usuarioNombre') !== nombreUsuario || localStorage.getItem('fechaEntrega') !== fechaEntrega) {
        // Si cambia el nombre de usuario o la fecha, reiniciar pedidos y pedidoNumero
        pedidos = [];
        pedidoNumero = 1;
        localStorage.setItem('usuarioNombre', nombreUsuario);
        localStorage.setItem('fechaEntrega', fechaEntrega);
    }


    // Actualizar la columna de detalles del pedido
function actualizarInforme() {
    const detallesPedido = document.getElementById('detallesPedido');
    detallesPedido.innerHTML = '';  // Limpiar el contenido anterior
    
    pedidos.forEach(pedido => {
        const pedidoDiv = document.createElement('div');
        pedidoDiv.className = 'pedido';

        let nombresTallesHTML = '<ul>';
        if (pedido.prendaGeneralParticular === 'general') {
            const tallesGenerales = document.getElementById('tallesGenerales').getElementsByTagName('input');
            for (let i = 0; i < tallesGenerales.length; i++) {
                const cantidadTalle = parseInt(tallesGenerales[i].value) || 0;
                if (cantidadTalle > 0) {
                    nombresTallesHTML += `<li>${tallesGenerales[i].id.replace(/_/g, ' ')}: ${cantidadTalle}</li>`;
                }
            }
        } else if (pedido.prendaGeneralParticular === 'particular') {
            pedido.nombresTalles.forEach(item => {
                nombresTallesHTML += `<li>${item}</li>`;
            });
        }

        nombresTallesHTML += '</ul>';

        pedidoDiv.innerHTML = `
            <h2>Pedido: ${pedido.numero}</h2>
            <p>Nombre de Usuario: ${pedido.nombreUsuario}</p>
            <p>Fecha de Entrega: ${pedido.fechaEntrega}</p>
            <p>Tipo de prenda: ${pedido.tipoPrenda.replace(/_/g, ' ')}</p>
            <p>Cantidad de prendas: ${pedido.cantidadPrendas}</p>
            <p>Tipo de tela: ${pedido.tipoTela.replace(/_/g, ' ')}</p>
            <p>${pedido.logoInfo}</p>
            <p>Otros detalles: ${pedido.otrosDetalles}</p>
            <p>Las prendas son: ${pedido.prendaGeneralParticular === 'general' ? 'Generales (todas iguales)' : 'Particulares (cada una diferente)'}</p>
            ${nombresTallesHTML}
        `;

        detallesPedido.appendChild(pedidoDiv);
    });
}


document.getElementById('download-pdf').addEventListener('click', function() {
    const { jsPDF } = window.jspdf;  // Asegurarte de que jsPDF esté disponible correctamente
    const doc = new jsPDF();
    
    const detallesPedido = document.getElementById('detallesPedido');
    // Verificar si detallesPedido tiene contenido
    if (detallesPedido.innerHTML.trim() === '') {
        alert('No hay información para descargar.');
        return;
    }

    const lines = detallesPedido.innerText.split('\n');
    let yOffset = 10;  // Espaciado inicial

    lines.forEach(line => {
        doc.text(line, 10, yOffset);
        yOffset += 10;  // Espaciado entre líneas
    });
    // Guardar el PDF con un nombre que incluya la fecha y el nombre de usuario
    const nombreUsuario = document.getElementById('username').value;
    const fechaEntrega = document.getElementById('fechaEntrega').value;
    doc.save(`pedido_${nombreUsuario}_${fechaEntrega}.pdf`);
});

// Revisar si el nombre de usuario o la fecha cambian
if (localStorage.getItem('usuarioNombre') !== nombreUsuario || localStorage.getItem('fechaEntrega') !== fechaEntrega) {
    pedidos = [];  // Limpiar el array de pedidos si el usuario o la fecha cambian
    pedidoNumero = 1;  // Reiniciar el número de pedido
}

pedidos.push(pedido);
actualizarInforme();  // Actualiza la columna de informes
guardarDatos(); // Guarda los datos actualizados en el localStorage
pedidoNumero++;
localStorage.setItem('pedidoNumero', pedidoNumero);  // Guardar el nuevo número de pedido


// Agregar información sobre logos/agregados
    const dynamicOptions = document.getElementById('dynamicOptions');
    const opciones = dynamicOptions.querySelectorAll('input[type="number"]');
    let logoInfo = 'Ubicaciones seleccionadas:\n';

    opciones.forEach(opcion => {
        const cantidad = opcion.value;
        if (cantidad > 0) {
            const ubicacion = opcion.id.replace(/_/g, ' ');
            logoInfo += `- ${ubicacion}: ${cantidad}\n`;
        }
    });

    // Variable para almacenar nombres y talles si es prenda particular
    let nombresTalles = [];

    if (prendaGeneralParticular === 'particular') {
        for (let i = 1; i <= cantidadPrendas; i++) {
            const talle = document.getElementById(`talle${i}`).value;
            const nombreLogo = document.getElementById(`nombreLogo${i}`).value;
            nombresTalles.push(`Prenda ${i}: Talle ${talle}, Nombre/Logo: ${nombreLogo}`);
        }
    }

    // Crea un pedido
    const pedido = {
        nombreUsuario: nombreUsuario,  // Almacenar el nombre de usuario
        pedidoId: pedidoId,  // Almacenar el ID del pedido
        numero: pedidoNumero,
        tipoPrenda: tipoPrenda,
        cantidadPrendas: cantidadPrendas,
        tipoTela: tipoTela,
        prendaGeneralParticular: prendaGeneralParticular,
        logoInfo: logoInfo,
        otrosDetalles: otrosDetalles,
        fechaEntrega: fechaEntrega,
        nombresTalles: nombresTalles
    };

   // Guardar el pedido en el array de pedidos
   pedidos.push(pedido);

   // Guardar el array actualizado en el localStorage
   localStorage.setItem('pedidos', JSON.stringify(pedidos));

   // Actualizar la segunda columna con el nuevo informe
   actualizarInforme();

   // Incrementar el número de pedido y actualizar el ID
   pedidoNumero++;
   localStorage.setItem('pedidoNumero', pedidoNumero);
}


let nombresTallesHTML = '<ul>';
    if (pedido.prendaGeneralParticular === 'general') {
        const tallesGenerales = document.getElementById('tallesGenerales').getElementsByTagName('input');
        for (let i = 0; i < tallesGenerales.length; i++) {
            const cantidadTalle = parseInt(tallesGenerales[i].value) || 0;
            if (cantidadTalle > 0) {
                nombresTallesHTML += `<li>${tallesGenerales[i].id.replace(/_/g, ' ')}: ${cantidadTalle}</li>`;
            }
        }
    } else if (pedido.prendaGeneralParticular === 'particular') {
        pedido.nombresTalles.forEach(item => {
            nombresTallesHTML += `<li>${item}</li>`;
        });
    }

    nombresTallesHTML += '</ul>';

    pedidoDiv.innerHTML = `
        <h2>Pedido: ${pedido.numero}</h2>
        <p>Nombre de Usuario: ${pedido.nombreUsuario}</p>
        <p>Fecha de Entrega: ${pedido.fechaEntrega}</p>
        <p>Tipo de prenda: ${pedido.tipoPrenda.replace(/_/g, ' ')}</p>
        <p>Cantidad de prendas: ${pedido.cantidadPrendas}</p>
        <p>Tipo de tela: ${pedido.tipoTela.replace(/_/g, ' ')}</p>
        <p>${pedido.logoInfo}</p>
        <p>Otros detalles: ${pedido.otrosDetalles}</p>
        <p>Las prendas son: ${pedido.prendaGeneralParticular === 'general' ? 'Generales (todas iguales)' : 'Particulares (cada una diferente)'}</p>
        ${nombresTallesHTML}
    `;

    // Agregar el nuevo pedido a la columna de detalles
    detallesPedido.appendChild(pedidoDiv);
});
}